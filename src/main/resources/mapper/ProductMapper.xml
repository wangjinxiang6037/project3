<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<!--mapper映射-->
<mapper namespace="com.gameloft9.demo.dataaccess.dao.system.ProductMapper">
    <!--结果集映射-->
    <resultMap id="ProductResultMap" type="com.gameloft9.demo.dataaccess.model.system.Product">
        <id column="ID" property="id" jdbcType="VARCHAR"/>
        <result column="PRODUCT_NAME" property="productName" jdbcType="VARCHAR"/>
        <result column="PRODUCT_TYPE" property="productType" jdbcType="VARCHAR"/>
        <result column="PRODUCT_DESCRIBE" property="productDescribe" jdbcType="VARCHAR"/>
        <result column="PRODUCT_PRICE" property="productPrice" jdbcType="VARCHAR"/>
        <result column="PRODUCT_ADDRESS" property="productAddress" jdbcType="VARCHAR"/>


    </resultMap>

    <sql id="Base_Column_List">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Mon Dec 04 11:17:05 CST 2017.
        -->
        ID, PRODUCT_NAME, PRODUCT_TYPE, PRODUCT_DESCRIBE, PRODUCT_PRICE, PRODUCT_ADDRESS
    </sql>

    <!--获取所有类表角色-->
    <select id="selectAll" resultMap="ProductResultMap" >

        select
           ID, PRODUCT_NAME, PRODUCT_TYPE, PRODUCT_DESCRIBE, PRODUCT_PRICE, PRODUCT_ADDRESS
        from product


    </select>
    <!--获取角色ID-->

    <select id="getProduct" resultMap="ProductResultMap" parameterType="java.lang.String">

        select
           ID, PRODUCT_NAME, PRODUCT_TYPE, PRODUCT_DESCRIBE, PRODUCT_PRICE, PRODUCT_ADDRESS
        from product
        where ID = #{id,jdbcType=VARCHAR}

    </select>



    <!--查找所有分页模糊查询-->
    <select id="findAll" resultMap="ProductResultMap">
        select * from product t
        <where>
        <if test="productName != null and productName != ''">
            and t.PRODUCT_NAME = #{productName,jdbcType=VARCHAR}
        </if>
        <if test="productType != null and productType != ''">
            and t.PRODUCT_TYPE = #{productType,jdbcType=VARCHAR}
        </if>
        </where>
        order by t.id asc
        limit #{start,jdbcType=DECIMAL},#{end,jdbcType=DECIMAL}
    </select>
<!--查找条数-->
    <select id="countGetAll" resultType="int" parameterType="map">

        select
        count(1)
        from product t
        <where>
        <if test="productName != null and productName != ''">
            and t.PRODUCT_NAME = #{productName,jdbcType=VARCHAR}
        </if>
        <if test="productType != null and productType != ''">
            and t.PRODUCT_TYPE = #{productType,jdbcType=VARCHAR}
        </if>
    </where>
    </select>

    <!--<select id="findById"  parameterType="java.lang.Integer" resultType="com.gameloft9.demo.dataaccess.model.system.Product">
        select
       *
        from product
        where ID = #{id,jdbcType=VARCHAR}
    </select>-->

<!--通过ID删除-->
    <delete id="deleteById" parameterType="java.lang.String">
    delete from product
    where ID = #{id}
  </delete>
<!--添加-->
    <insert id="add" parameterType="com.gameloft9.demo.dataaccess.model.system.Product">
        insert into product  (ID, PRODUCT_NAME, PRODUCT_TYPE, PRODUCT_DESCRIBE, PRODUCT_PRICE, PRODUCT_ADDRESS)values (#{id},#{productName},#{productType},#{productDescribe},
        #{productPrice},#{productAddress})

    </insert>
<!--修改-->
    <update id="update" parameterType="com.gameloft9.demo.dataaccess.model.system.Product">
update product set PRODUCT_NAME=#{productName},PRODUCT_TYPE=#{productType},PRODUCT_DESCRIBE=#{productDescribe},
PRODUCT_PRICE=#{productPrice},PRODUCT_ADDRESS=#{productAddress} where ID=#{id}
  </update>

</mapper>